<launch>

  <node name="dummy_image_publisher"
        pkg="jsk_perception" type="image_publisher.py"
        clear_params="true">
    <rosparam subst_value="true">
      file_name: $(find trafficlight_recognizer)/sample_images/trafficlight.jpg
      rate: 30
    </rosparam>
  </node>

  <node name="dummy_stamped_roi_publisher"
        pkg="trafficlight_recognizer" type="dummy_stamped_roi_publisher.py">
    <rosparam subst_value="true">
      rate: 30
    </rosparam>
  </node>

  <node name="tlr_ssd_detector"
        pkg="trafficlight_recognizer" type="chainer_ssd_tlr_detector.py"
        output="screen">
    <remap from="~input_image" to="/dummy_image_publisher/output" />
    <remap from="~input_stamped_roi" to="/dummy_stamped_roi_publisher/output" />
    <rosparam subst_value="true">
      gpu: 0
      approximate_sync: true
    </rosparam>
  </node>

  <!-- <test test-name="test-tlr_ssd_detector" -->
  <!--       name="test-tlr_ssd_detector" -->
  <!--       pkg="jsk_tools" type="test_topic_published.py" -->
  <!--       time-limit="30" retry="1"> -->
  <!--   <rosparam> -->
  <!--     topic_0: /tlr_ssd_detector/output_stamped_roi -->
  <!--     timeout_0: 30 -->
  <!--   </rosparam> -->
  <!-- </test> -->

</launch>
